
\section{Usage Data Research Concepts}

In this section we discuss background on usage data research and provide motivation for analyzing usage data by describing what we can learn from it.  With a review of Goal-Question-Metric, we discuss how to focus usage data collection with specific research goals.  To round out the concepts, we discuss additional considerations such as privacy and additional data sources necessary to support your research.

\subsection{What Is Usage Data and Why Analyze It?}
\input{UsageDataResearchConcepts/WhatIsUsageData}
\vspace{0.1in}

With this background on usage data collection and research based on usage data, we look next at how to define usage data collection requirements based on your research goals.

\subsection{Selecting Relevant Data Based on a Goal}
\input{UsageDataResearchConcepts/ResearchGoals}

%\vspace{0.1in}
%It is great to see how usage data may benefit your research, however, there are some concerns your users will have regarding the data collection around privacy.

\subsection{Privacy Concerns}
\input{UsageDataResearchConcepts/PrivacyConcerns}

\subsection{Study Scope}
\input{UsageDataResearchConcepts/OtherDataSources}

\vspace{0.1in}
Now that we have discussed aspects to consider when formulating your research plan, we are ready to dig deeper into specifics on how to collect data from developer IDEs.  The next section covers several options that will propel your research forward.

\section{How to Collect Data}
\label{SecHowToCollectData}

There are many options for collecting usage data from IDEs.   Existing tools can provide ready made solutions for commonly used IDEs and some support collecting data from additional sources.   Another way to start is to study data collected in previous projects such as data available in the Eclipse archive for UDC data.  This archive contains a wealth of data collected by UDC when UDC was integrated with each Eclipse version in 2009 and 2010.  The data is currently available at this URL:
\url{http://archive.eclipse.org/projects/usagedata/}

You may have more specific questions than can be answered with the UDC data or need to collect usage data for a specific experiment.  In this section we discuss details on how to use existing data collection tools for Eclipse including Usage Data Collector, Mylyn Monitor, and \CodingSpectator{} (\SecRef{CodingSpectator}).  Then we'll walk through creating a usage data collection extension to Microsoft Visual Studio.  Before we get into details, here is an overview of some existing frameworks that may work for your research.

\begin{itemize}

	\item Eclipse: Usage Data Collector (UDC) discussed in section \ref{EclipseUsageDataColector} collects commands executed in the environment and editors and views that are invoked.
	
	\item Eclipse: Mylyn Monitor described in section \ref{MylynMonitor} collects task oriented events and can be configured for saving data
	
        \item \CodingSpectator %https://github.com/vazexqi/CodingSpectator
, discussed in section \ref{CodingSpectator} focuses on refactoring actions and the context in which they are taken.

        \item \CodingTracker~\cite{NegaraETAL2012Dangerous} is a usage data collector for the Eclipse IDE that records every character insertion and deletion. \CodingTracker{} records the code edits so accurately that it can later replay them to show the changes in action. \CodingTracker{} has been used to conduct empirical studies and accurately infer high-level changes such as refactorings~\cite{NegaraETAL2013ManualRefactorings}.
	
	\item For Visual Studio, section \ref{buildItYourself} describes in detail how to build your own Visual Studio extension that collects all command events from the IDE.
	
	\item Hackystat provides a framework to collect usage data from many sources.  We do not discuss Hackystat here, however, you can consult papers and the code website for it to collect more information. \cite{V:johnson2003beyond}, %https://code.google.com/p/hackystat/

        \item \Fluorite~\cite{YoonMyers2011Flourite} is an Eclipse-based tool that captures usage data such as invoked commands, typed characters, cursor movements, and text selections. \Fluorite{} has been used to study programmers' backtracking strategies~\cite{YoonMyers2012Backtracking} and visualizing code histories~\cite{YoonETAL2013VisualizeChange}.
	
	\item CodeAlike is a Visual Studio extension for personal analytics and research of usage data related to coding efficiency.  Currently CodeAlike is a proprietary tool whose developers seek to collaborate on usage data studies.

\end{itemize}

%lstlisting settings for section 2
\lstset{language=Java,
captionpos=b,
tabsize=3,
frame=lines,
numbers=left,
numberstyle=\tiny,
numbersep=5pt,
breaklines=true,
showstringspaces=false,
basicstyle=\footnotesize,
emph={label}}

The remainder of this section will discuss in detail how to implement the top four tools from the list above.

\subsection{Eclipse Usage Data Collector}
\label{EclipseUsageDataCollector}
\input{ToolsToCollectData/EclipseUDC}

\vspace{0.1in}
While there is some coding involved, setting up the UDC for Eclipse can provide thorough usage data collection for a research project using Eclipse.   For lab studies, not much setup is required.  For larger or distributed studies, some infrastructure (a web server) and code (the UDC data server) are required.  Next we look at Mylyn and the Eclipse Mylyn Monitor component.

\subsection{Mylyn and the Eclipse Mylyn Monitor}
\label{MylynMonitor}
\input{ToolsToCollectData/mylyn}

%TODO: wrap up the Mylyn section

\input{ToolsToCollectData/codingspectator}

%pretty good wrap up on Coding Spectator - may be ok

\subsection{Build it Yourself for Visual Studio}
\label{buildItYourself}
\input{ToolsToCollectData/BuildItYourselfInVisualStudio}

\vspace{0.1in}
Thus far we have been focusing on concrete usage data collection frameworks and the specific data collected by these frameworks.  With options to collect data from both Visual Studio and Eclipse, we hopefully provided a good resource to get you started towards your research goals.  Next, let's look next at methods and challenges in analyzing usage data.

\newpage

\section{How to Analyze Usage Data}

Collecting usage data gets you halfway to answering your questions.  In this section we discuss several data analysis techniques that apply to usage data.  We will talk about types of data to collect, categorizing the records, defining sequences, using state models,and other techniques to extract information from the usage data.
\label{sec:dataAnonymity}
\subsection{Data Anonymity}
\input{AnalyzingUsageData/typesOfData}

\subsection{Usage Data Format}
\input{AnalyzingUsageData/usageDataFormat}

\subsection{Magnitude Analysis}
\input{AnalyzingUsageData/magnitude}

\subsection{Categorization Analysis}
\input{AnalyzingUsageData/category}

\subsection{Sequence Analysis}
\input{AnalyzingUsageData/sequence}

\subsection{State Model Analysis}
\input{AnalyzingUsageData/states}

\subsection{The Critical Incident Technique (CIT)}
\input{AnalyzingUsageData/cit}

\label{sec:IncludingOtherSources}
\subsection{Including Data From Other Sources}
\input{AnalyzingUsageData/Reasearch_combining_usage_data}

\vspace{0.1in}
Using this overview of analysis techniques should give you a good start towards analyzing usage data for your research.
The ideas you bring to your usage data analysis process provide the real opportunities for innovating usage data based research.  Next we will discuss limitations we have observed in conducting research with usage data.

\section{Limits of What You Can Learn from Usage Data}
\label{sec:limitations}

Collecting usage data is potentially a boon to research, and as we have
pointed out, has many interesting and impactful applications.
Nonetheless, there are limits to what you can learn as a researcher
from usage data.
In fact, our experience is that researchers (and practitioners) have
high expectations about what they can learn from usage data, and those
expectations often come crashing down after significant effort implementing
and deploying a data collection system.
So before you begin your usage data collection and analysis, consider
the following two limitations of usage data.

\textbf{Rationale is Hard to Capture.}
Usage data tells you what a software developer did, but not
why she did it.
For example, if your usage data tells you that a developer used
new refactoring tool for the first time, from a trace alone you cannot determine whether
(a) she learned about the tool for the first time, (b) she had used the tool earlier, but before you started collecting data, or (c) her finger slipped and she pressed a hotkey by accident. We do not know whether she is satisfied with the the tool and will use it again in future.
A researcher may be able to distinguish between these by collecting additional information,
like asking the developer just after she used the tool why she used it,
but it is impossible to definitively separate these based on the
usage data alone.

\textbf{Usage Data Never Captures Everything.}
Researchers often want to capture ``everything,'' or at least
everything that a developer does.
This is fundamentally impossible, and the reason we introduced the
goal-question metric.
If you have a system that captures all key presses, you are still
lacking information about mouse movements.
If you have a system that also captures mouse movements, you're still
missing the files that the developer is working with.
If your system captures also the files, you still lacking the
histories of those files.
And so on.
Ultimately, usage data is all about fitness for purpose -- is the data
you are analyzing fit for the purpose of your research questions.

To avoid these limitations, we recommend thinking systemically about how the data will be used while planning rather than thinking about usage data collection abstractly.
Invent an ideal usage data trace, and ask yourself:

\begin{itemize}[noitemsep]
  \item Does the data support my hypothesis?
  \item Are there alternative hypotheses that the data would support?
  \item Do I need additional data sources?
  \item Can the data be feasibly generated?
\end{itemize}

\noindent
Answering these questions will help you determine whether you can sidestep
the limitations of collecting and analyzing usage data.

%\section{ Perspectives on Data Analysis}
%
%
%\begin{enumerate}
%\item Creating and communicating developer oriented feedback
%\begin{itemize}
%	\item
%	Identifying developer viewpoints of the data
%	\item
%	Designing a data visualization for developers.
%	\item
%	Issues of privacy or sensitivity of data for developers
%\end{itemize}
%\item Tailoring usage data to provide value to toolsmiths
%\begin{itemize}
%	\item
%	Tool usage data
%	\item
%	Analyzing contextual data relevant to tool use such as prior actions or follow-on actions,
%	\item
%	Determining whether tool use was successful.
%\end{itemize}
%\item Research perspectives and opportunities
%\begin{itemize}
%	\item
%	Ideas to study IDE usage include debugging tasks, task oriented, navigation, reading
%	\item visualization using tools (e.g. Tableau)
%	\item Research patterns (data scope/scale, combining with other data (examples)
%\end{itemize}
%
%\end{enumerate}

\section{A Look Ahead}

If the last two decades could be labeled the era
of big data collection,
the next two decades will surely be labeled as the
era of smarter big data analysis.
Many questions still remain:
How do we balance data privacy and data richness?
What are the long term effects of developer monitoring?
How can we maximize the value of data collection
for as many researchers as possible, and reduce the
strain on research participants? How can we provide right data to right person at right time with the least effort?
Answering these questions will help our research
community advance in usage data collection and analysis.

Usage data, while now widely collected, still remains largely
an untapped resource by practitioners and researchers.
In this chapter, we have explained how to collect and
analyze usage data, which we hope will help you ``stand
on the shoulders of giants'' and increase the ease
with which you can collect and analyze your own usage data.

% LocalWords: IDE IDEs UDC refactoring refactorings

